%section#apprenticeships-index.section
  .container
    %h1 Apprenticeships
    = link_to "Build an Apprenticeship!", info_apprenticeships_path, class: 'btn btn-large btn-primary pull-right'
    %span.bttn-call.kristi.pull-right
      Hey Makers!
    %br/
    %br/
    .accordion#accordion2
      .accordion-group
        .accordion-heading
          %a.accordion-toggle{"data-toggle" => "collapse", href: "#collapseOne", class: 'pull-center' }
            How it Works
            %i.icon-chevron-down
        #collapseOne.accordion-body.collapse
          .accordion-inner
            %br/
            .row-fluid
              %ul.thumbnails.bordered
                %li.span4
                  .row-fluid
                    .span4.pull-center
                      %i.icon-certificate.enormous-icon.circled.pull-center
                    .span8
                      %h3 Join a Guild
                      %p
                        Check out the list of brilliant Makers below and pre-register to show your interest in working together. We'll let you know when they schedule an event or apprenticeship.
                %li.span4
                  .row-fluid
                    .span4.pull-center
                      %i.icon-check.enormous-icon.circled.pull-center
                    .span8
                      %h3 Apply to Work
                      %p
                        Find an apprenticeship you're stoked about? Apply! We'll send the Maker your application to check out and we'll only request you pay the $9.00 matching fee if it works out.
                %li.span4
                  .row-fluid
                    .span4.pull-center
                      %i.icon-heart.enormous-icon.circled.pull-center
                    .span8
                      %h3 Get Recognition
                      %p
                        We'll keep track of the skills, tools, and techniques you're learning to begin to build out an incredible portfolio. Pretty soon you'll be hosting an apprenticeship!
    .row
      - unless @apprenticeships.blank?
        = render :partial => "apprenticeship", :collection => @apprenticeships
    %hr
    - unless current_user.blank?
      - if current_user.admin?
        - unless @allsaved_apprenticeships.blank? && @allpending_apprenticeships.blank? && @allcanceled_apprenticeships.blank? && @allfilled_apprenticeships.blank? && @allcompleted_apprenticeships.blank?
          %h2 Admin
          .alert
            - unless @allsaved_apprenticeships.blank?
              %h3 Saved Apprenticeships
              .row-fluid.row-saved
                = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @allsaved_apprenticeships}
            - unless @allpending_apprenticeships.blank?
              %h3 Pending Apprenticeships Needing Review
              .row-fluid.row-pending
                = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @allpending_apprenticeships}
            - unless @allcanceled_apprenticeships.blank?
              %h3 Canceled Apprenticeships Since Being Accepted
              .row-fluid.row-canceled
                = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @allcanceled_apprenticeships}
            - unless @allfilled_apprenticeships.blank?
              %h3 Filled Apprenticeships
              .row-fluid.row-filled
                = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @allfilled_apprenticeships}
            - unless @allcompleted_apprenticeships.blank?
              %h3 Completed Apprenticeships
              .row-fluid.row-completed
                = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @allcompleted_apprenticeships}
      - unless current_user.app_signups.blank?
        %h2 What I'm learning
        .alert.alert-info
          - unless @mysaved_app_signups.blank?
            %h3 My Saved Applications
            .row-fluid.row-saved
              = render :partial => "app_signups/app_signups-tbl", locals: {app_signups: @mysaved_app_signups}
          - unless @mypending_app_signups.blank?
            %h3 My Pending Applications Being Reviewed
            .row-fluid.row-pending
              = render :partial => "app_signups/app_signups-tbl", locals: {app_signups: @mypending_app_signups}
          - unless @mycanceled_app_signups.blank?
            %h3 My Canceled Applications Since Being Accepted
            .row-fluid.row-canceled
              = render :partial => "app_signups/app_signups-tbl", locals: {app_signups: @mycanceled_app_signups}
          - unless @myaccepted_app_signups.blank?
            %h3 My Accepted Applications
            .row-fluid.row-filled
              = render :partial => "app_signups/app_signups-tbl", locals: {app_signups: @myaccepted_app_signups}
          - unless @myconfirmed_app_signups.blank?
            %h3 My Confirmed Apprenticeships
            .row-fluid.row-confirmed
              = render :partial => "app_signups/app_signups-tbl", locals: {app_signups: @myconfirmed_app_signups}
          - unless @mycompleted_app_signups.blank?
            %h3 My Completed Apprenticeships
            .row-fluid.row-completed
              = render :partial => "app_signups/app_signups-tbl", locals: {app_signups: @mycompleted_app_signups}
      - unless current_user.apprenticeships.blank?
        %h2 What I'm Teaching
        .alert.alert-info
          - unless @mycanceled_apprenticeships.blank?
            %h3 My Canceled Apprenticeships
            .row-fluid.row-canceled
              = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @mycanceled_apprenticeships}
          - unless @mysaved_apprenticeships.blank?
            %h3 My Saved Apprenticeships
            .row-fluid.row-saved
              = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @mysaved_apprenticeships}
          - unless @mypending_apprenticeships.blank?
            %h3 My Pending Apprenticeships
            .row-fluid.row-pending
              = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @mypending_apprenticeships}
          - unless @myactive_apprenticeships.blank?
            %h3 My Upcoming Apprenticeships
            .row-fluid.row-upcoming
              = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @myactive_apprenticeships}
          - unless @myfilled_apprenticeships.blank?
            %h3 My Filled Apprenticeships
            .row-fluid.row-filled
              = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @myfilled_apprenticeships}
          - unless @mycompleted_apprenticeships.blank?
            %h3 My Completed Apprenticeships
            .row-fluid.row-completed
              = render :partial => "apprenticeship-tbl", locals: {apprenticeships: @mycompleted_apprenticeships}
